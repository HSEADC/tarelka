<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Главная</title>
  </head>
  <body id="index">
    <div class="header">
      <li>
        <img href="index.html" src="/src/img/logo.svg" class="headerlogo" />
      </li>
      <li>
        <img href="index.html" src="/src/img/telegram.svg" class="headertg" />
      </li>
    </div>
    <div id="indexWrapper">
      <div class="indexContainer">
        <div class="indexContainerInfo">
          <div class="indexContainerInfoTags">
            <div class="Tag">
              <p>Здоровая еда</p>
            </div>
            <div class="Tag">
              <p>Осознанное питание</p>
            </div>
            <div class="Tag">
              <p>Полезные перекусы</p>
            </div>
          </div>
          <div class="indexContainerInfoText">
            <h1>
              Хотите <span class="highlight">вкусно и полезно</span> <br />
              питаться?
            </h1>
            <h2>
              Tarelka — проект о питании без напряжения или стресса.<br />Следи
              за запуском, чтобы начать с первой ложки.
            </h2>
          </div>
          <form
            class="my-form"
            action="https://formspree.io/f/xqayryej"
            method="POST"
          >
            <input type="text" name="telegram" placeholder="Твой Telegram" />
            <p class="my-form-status"></p>
            <button id="my-form-button">Отправить</button>
          </form>
        </div>
        <div class="indexContainerDescription">
          <h1 class="indexContainerDescriptionText">
            TARELKA ТВОЙ <span class="highlight">ПОМОЩНИК <br />В ПИТАНИИ</span>
          </h1>
          <div class="indexContainerDescriptionCards">
            <div class="Card">
              <h1>01</h1>
              <div class="CardText">
                <h2>Простая еда</h2>
                <h3>
                  Мы устали от диет, подсчётов и перегрузки.<br />Решили вернуть
                  еде простоту и удовольствие,<br />чтобы питание снова стало
                  заботой, а не стрессом.
                </h3>
              </div>
            </div>
            <div class="Card">
              <h1>02</h1>
              <div class="CardText">
                <h2>Осознанный подход</h2>
                <h3>
                  Мы говорим о питании без крайностей и запретов.<br />Помогаем
                  понять основы и научиться слушать <br />тело, а не советы из
                  интернета.
                </h3>
              </div>
            </div>
            <div class="Card">
              <h1>03</h1>
              <div class="CardText">
                <h2>Реальные знания</h2>
                <h3>
                  Мы собрали проверенную базу о питании — <br />честно, просто и
                  без мифов. Чтобы каждый мог <br />начать путь к балансу без
                  страха и усталости.
                </h3>
              </div>
            </div>
          </div>
        </div>
        <div class="indexContainerAbout">
          <h1 class="indexContainerDescriptionText">
            ПОСЛЕ ЗАПУСКА
            <span class="highlight">ТЕБЯ ЖДУТ<br />РАЗЛИЧНЫЕ МАТЕРИАЛЫ</span>
          </h1>
          <div class="indexContainerAboutCards">
            <div class="Card first">
              <h1>01</h1>
              <div class="CardText first">
                <h2>Правила<br />питания</h2>
                <h3>
    
                  Базовые принципы, которые помогут выстроить<br />здоровые привычки без диет и ограничений.<br />Просто, понятно и применимо к жизни.
                </h3>
              </div>
            </div>
            <div class="AllSmallCardsWrapper">
              <div class="CardWrapper">
                <div class="Card">
                  <h1>02</h1>
                  <div class="CardText">
                    <h2>Гайды</h2>
                    <h3>
                      Простые пошаговые материалы о питании <br />и привычках,
                      которые помогут без стресса прийти<br />к балансу.
                    </h3>
                  </div>
                </div>
                <div class="Card">
                  <h1>03</h1>
                  <div class="CardText">
                    <h2>Рецепты</h2>
                    <h3>
                      Быстрые и полезные блюда на каждый день<br />— от
                      завтраков до ужинов. С доступными <br />ингредиентами и
                      максимальным вкусом.
                    </h3>
                  </div>
                </div>
              </div>
              <div class="CardWrapper">
                <div class="Card">
                  <h1>04</h1>
                  <div class="CardText">
                    <h2>Статьи</h2>
                    <h3>
                      Всё о питании и теле простыми словами.<br />Разбираем
                      мифы, делимся фактами и помогаем<br />увидеть еду без
                      чувства вины.
                    </h3>
                  </div>
                </div>
                <div class="Card">
                  <h1>05</h1>
                  <div class="CardText">
                    <h2>Тесты</h2>
                    <h3>
                      Узнай себя через еду — какой ты едок, почему<br />тянешься
                      к сладкому и что на самом деле мешает <br />питаться
                      стабильно.
                    </h3>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="indexContainerBottom">
        <div class="indexContainerBottomText">
          <h1>
            Подписывайся на нас, чтобы <br />
            собрать свою тарелку!
          </h1>
          <h2>Будь первым в этом приключении!</h2>
        </div>
        <form
          class="my-form"
          action="https://formspree.io/f/xqayryej"
          method="POST"
        >
          <input type="text" name="telegram" placeholder="Твой Telegram" />
          <p class="my-form-status"></p>
          <button id="my-form-button">Отправить</button>
        </form>
      </div>
    </div>
    <div class="footer">
      <div class="footercolumn">
        <li>
          <img href="index.html" src="/src/img/logo.svg" class="headerlogo" />
        </li>
        <p>
          Проект о питании без фанатизма и усталости.<br />Следи за запуском, чтобы
          начать с первой ложки.
        </p>
        <p>Copyright © 2025 by Tarelka. All Rights Reserved.</p>
      </div>

      <div class="footercolumn">
        <h1>
          Мы в соц.сетях:
        </h1>
        <div class="telegramfooter">
        <img href="index.html" src="/src/img/telegram.svg" class="footertg" />
      </li>
      <p>@tarelkamedia</p>
      </div>
      </div>
    </div>
    <script>
      const forms = document.querySelectorAll('.my-form');

      forms.forEach((form) => {
        form.addEventListener('submit', async function (event) {
          event.preventDefault();
          const status = form.querySelector('.my-form-status');
          const input = form.querySelector('input[name="telegram"]'); // новое
          if (!input.value.trim()) {
            // проверка пустого поля
            status.style.color = '#B53737';
              status.style.textAlign = 'center';
            status.innerHTML = 'Пожалуйста, заполните поле';
            return; // останавливаем fetch
          }
          const data = new FormData(form);

          fetch(form.action, {
            method: form.method,
            body: data,
            headers: { Accept: 'application/json' },
          })
            .then((response) => {
              if (response.ok) {
                status.style.color = '#50A773';
                status.style.textAlign = 'center';
                status.innerHTML = 'Совсем скоро мы тебе напишем';
                form.reset();
              } else {
                response.json().then((data) => {
                  status.style.color = '#B53737';
                  if (Object.hasOwn(data, 'errors')) {
                    status.innerHTML = data.errors
                      .map((e) => {
                        if (e.message === "Can't send an empty form")
                          return 'Пожалуйста, заполните поле';
                        return 'Ошибка в форме';
                      })
                      .join(', ');
                  } else {
                    status.innerHTML =
                      'Ой, возникла какая-то проблема. Попробуйте еще раз';
                  }
                });
              }
            })
            .catch((error) => {
              status.style.color = '#B53737';
              status.innerHTML =
                'Ой, возникла какаякая проблема. Попробуйте еще раз';
            });
        });
      });
    </script>
  </body>
</html>
